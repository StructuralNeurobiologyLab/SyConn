# Dependencies marked with "(optional)" are not required for core functionality
# and can be commented out if there are conflicts.

name: pysy
channels:
  - pytorch
  - conda-forge
  - defaults
  - menpo
dependencies:
  # From -c pytorch
  - pytorch =1.1  # (version depends on elektronn3 revision)
  - torchvision

  # From conda-forge and defaults
  - python >=3.7  # (3.6 should also work)
  - pip
  - vigra
  - freeglut
  - pyopengl
  - python-snappy
  - m2r
  - ipython
  - h5py
  - matplotlib
  - tqdm
  - scipy
  - networkx
  - m2r
  - lz4
  - flask
  - fasteners
  - numpy
  - coloredlogs
  - termcolor
  - scikit-learn
  - scikit-image
  - pyopengl
  - opencv
  - numba
  - openmesh-python
  - prompt_toolkit
  - vtki
  - dill
  - joblib
  - seaborn
  - pyyaml
  - cython
  - colorlog

  # From -c menpo
  - osmesa

  # For tests (optional):
  - pytest
  - pytest-runner
  - pytest-cov
  - pytest-xdist

  # For docs (optional):
  - sphinx
  - sphinx_rtd_theme
  - sphinx-autodoc-typehints

  # Required dependencies that are not yet available via conda:
  - pip:
    - zmesh
    - plyfile
    # For importing the latest cell type model. TODO: transition to .pts models
    - adabound

    # For running a tensorboard server (optional):
    # (Installing these via pip because currently conda packages are broken)
    # TODO: Move these up to conda once they work again
    - tensorflow
    - tensorboard

    # Pre-release packages
    - git+https://github.com/ELEKTRONN/elektronn3.git@phil#egg=elektronn3
    - git+https://github.com/knossos-project/knossos_utils@dev#egg=knossos_utils
