# -*- coding: utf-8 -*-
# SyConn - Synaptic connectivity inference toolkit
#
# Copyright (c) 2016 - now
# Max-Planck-Institute of Neurobiology, Munich, Germany
# Authors: Philipp Schubert, Joergen Kornfeld

from syconn.reps.super_segmentation import *


# based on /wholebrain/scratch/areaxfs/ and j0126
ssv_ids = [14438658, 19348869, 6259714, 30491392, 25330819, 26043712, 13961728, 31780672,
 34777476, 5913984, 18514945, 4871938, 13871746, 26892160, 24279553, 7211394,
 1183363, 18580484, 13608577, 22161416, 19005955, 16300292, 6685574, 7446555,
 11155584, 34587265, 13778186, 23857249, 10580997, 26746368, 7200770, 16677937,
 66563840, 24251648, 26486786, 30970880, 11235008, 13947905, 307971, 34762753,
 19106528, 27234816, 3904059, 29091969, 18369536, 18826496, 3713024, 14155266,
 28089217, 6668224, 8336001, 30396800, 18183009, 9698694, 28459780, 25833985,
 34123776, 24722688, 17937025, 29860608, 24385, 15654020, 21528577, 18459819,
 7256195, 1986784, 21255040, 33839108, 12172544, 35130112, 2879746, 23574018,
 14027395, 9494763, 13751425, 18916097, 31147791, 18913728, 26144883, 10868755,
 26386432, 23193602, 1560842, 3747746, 12037888, 26874625, 24542214, 16359939,
 33321120, 16933504, 23788672, 19356416, 26677504, 6398210, 16407680, 21410817,
 1443296, 21507585, 23798656, 9743457, 11917313, 16705540, 19646720, 18328064,
 15577216, 28940801, 33970304, 1730048, 6363328, 22099456, 33587589, 31608278,
 11127616, 21075204, 4314758, 24725505, 16487424, 15286528, 21383168, 15463744,
 16390336, 29206913, 22255251, 10698817, 24216832, 16705664, 50708480, 23798278,
 21220869, 30926339, 11177090, 13103616, 11996578, 12003205, 14647297, 21293056,
 16477082, 35099550, 20376224, 24393728, 15532480, 2173697, 24393856, 9138051,
 13297667, 52322181, 26649856, 1370627, 24507776, 27144832, 33683457, 24408069,
 35185296, 52099938, 42588160, 8425313, 14269442, 36559872, 11214528, 10436162,
 15642880, 17041133, 4059151, 17220865, 23342048, 26321025, 23892739, 16480898,
 917512, 16646658, 17221258, 15446379, 6422016, 8207553, 30701316, 33323526,
 21569857, 11387354, 32282625, 15376955, 13993348, 21452288, 11093505, 15526016,
 52651264, 13096965, 52404480, 13442568, 15501312, 24210048, 19190273, 18916481,
 11615746, 1838721, 25733426, 33189696, 23109635, 39251968, 16656900, 1281026,
 18608129, 20338688, 11833344, 30119939, 11553153, 16635936, 31705091, 7933952,
 12836864, 5262851, 28479489, 25182209, 19009408, 16248838, 3979136, 24535040,
 19020296, 28649472, 33203200, 24991874, 19739650, 1295344, 23400450, 6294017,
 6983680, 27656193, 19947520, 16034049, 16674198, 8675337, 26386436, 23760386,
 30054656, 20055211, 28355328, 31600640, 5875714, 108416, 4208384, 10830337, 8194048,
 8470529, 6373378, 8751104, 26591318, 17438891, 22196610, 25870851, 19431430, 25772032,
 16608777, 7733504, 727041, 26607617, 34933761, 4806657, 8848000, 14241792, 16397318,
 3311874, 3813633, 8003584, 29165600, 32212913, 19089380, 9826818, 34759690, 8664064,
 15660288, 19034114, 15027040, 23283104, 33961477, 33892354, 12965248, 29628929,
 4114775, 28892164, 11691649, 21012736, 11176576, 25739264, 34250753, 11702272,
 7065604, 10917378, 1086466, 10993665, 31265792, 11269891, 23781376, 16390656,
 30985899, 16096256, 18972032, 18251791, 16280066, 26051264, 18556928, 20902784,
 6761985, 11145216, 21829506, 4415360, 13681152, 21691648, 19093088, 28168448,
 11872129, 17407488, 21580289, 6235654, 6065634, 1613185, 13401473, 14487809,
 29369477, 8896130, 23404800, 17107072, 17203584, 32531962, 2170369, 29873835,
 30813185, 4769153, 27434528, 26549163, 29743104, 9007105, 6872324, 24078336,
 14431938, 15716871, 21227776, 13483947, 1622784, 29186178, 30081248, 8456704,
 32199504, 14044544, 19494414, 6508419, 5589120, 21657602, 32444993, 21618944,
 24234882, 27047744, 23231169, 35064705, 18912641, 16397441, 21725824, 288128,
 7699456, 23500544, 14504588, 13632772, 34051139, 25736704, 22116612, 25944069,
 33852928, 33791616, 28065792, 2578435, 31005696, 45169664, 24690696, 16760832,
 8962050, 3148930, 32161793, 21473568, 23048096, 24888325, 15203329, 17362544,
 3510146, 7155712, 14688257, 2564096, 31977749, 16674317, 30650756, 22393345,
 7837696, 18650127, 10919936, 8470784, 25683968, 13844487, 12394496, 31555585,
 2968966, 22217184, 31053824, 14206912, 16477189, 28241921, 17989637, 16047872,
 18836996, 18999680, 23763968]

ssv_labels = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
              1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
              1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
              1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
              1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
              1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
              1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2,
              3, 3, 0, 1, 2]


if __name__ == "__main__":
    ssd_new = SuperSegmentationDataset(
        working_dir="/wholebrain/scratch/areaxfs3/", version="ctgt")
    ssd_all = SuperSegmentationDataset(
        working_dir="/wholebrain/scratch/areaxfs/")
    orig_ssvs = ssd_all.get_super_segmentation_object(ssv_ids)
    for ssv in orig_ssvs:
        assert os.path.isfile(ssv.attr_dict_path)
    copy_ssvs2new_SSD_simple(orig_ssvs, new_version="ctgt",
                             target_wd="/wholebrain/scratch/areaxfs3/")
    ssd_new.save_dataset_deep()
    for ii, ssv_id in enumerate(ssv_ids):
        ssv = ssd_new.get_super_segmentation_object(ssv_id)
        ssv.save_attributes(["cellttype_gt"], [ssv_labels[ii]])
        ssv._render_rawviews(2)
    gt_dir = "/wholebrain/scratch/areaxfs3//ssv_ctgt/"
    write_obj2pkl(gt_dir + "ctgt_labels.pkl",
                 {ssv_ids[kk]: ssv_labels[kk] for kk in range(len(ssv_ids))})
